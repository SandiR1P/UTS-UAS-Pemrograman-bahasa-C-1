#include <stdio.h>

// Function untuk mengatur motor utama
void putarMotorUtama(int rpm, int waktu) {
    printf("Motor utama berputar dengan kecepatan %d rpm selama %d menit.\n", rpm, waktu);
}

// Function untuk mengatur motor pembuka klep
void putarMotorPembukaKlep(int waktu) {
    printf("Motor pembuka klep berputar selama %d menit.\n", waktu);
}

// Function untuk mendeteksi level kekeruhan air
int deteksiKekeruhanAir(int kekeruhan) {
    // Implementasi fuzzy logic untuk menentukan kecepatan motor utama
    if (kekeruhan <= 8) {
        return 1000; // rpm untuk kekeruhan rendah
    } else if (kekeruhan <= 30) {
        return 1200; // rpm untuk kekeruhan sedang
    } else {
        return 1500; // rpm untuk kekeruhan tinggi
    }
}

// Function utama
int main() {
    int levelKekeruhan[] = {6, 8, 12, 18, 24, 30, 36, 42, 49};
    int jumlahLevel = sizeof(levelKekeruhan) / sizeof(levelKekeruhan[0]);

    // Menjalankan mesin cuci untuk setiap level kekeruhan
    for (int i = 0; i < jumlahLevel; i++) {
        printf("\nMesin cuci untuk level kekeruhan %d NTU:\n", levelKekeruhan[i]);

        // Step 1: Motor pembuka klep pengisian air
        putarMotorPembukaKlep(2);

        // Step 2: Sensor turbidimeter untuk mendeteksi level kekeruhan air
        int kecepatanMotorUtama = deteksiKekeruhanAir(levelKekeruhan[i]);

        // Step 3: Motor listrik utama
        putarMotorUtama(kecepatanMotorUtama, 60);

        // Step 4: Motor pembuka klep pembuangan air kotor
        putarMotorPembukaKlep(2);

        // Step 5: Motor listrik utama untuk mengeringkan cucian
        putarMotorUtama(2000, 3);

        // Step 6: Motor pembuka klep pengisian air
        putarMotorPembukaKlep(2);

        // Step 7: Motor listrik utama untuk sisa waktu mencuci
        putarMotorUtama(kecepatanMotorUtama, 60);

        // Step 8: Motor pembuka klep pembuangan air kotor
        putarMotorPembukaKlep(2);

        // Step 9: Motor listrik utama untuk mengeringkan cucian
        putarMotorUtama(2000, 3);
    }

    return 0;
}
